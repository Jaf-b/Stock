import{a as F,b as l,d as L,e as S,g as h,h as E,j as I,k as N,l as U,m as j,n as V,q as B,r as D,s as G,t as W}from"./chunk-JXXXVDU4.js";import{Ab as b,Fa as r,Ga as t,Ha as s,Oa as x,Qa as _,T as C,Ya as a,Za as v,ab as O,ia as d,ja as p,mb as P,ob as w,pc as k,rc as R,ta as M,vb as y,wa as g}from"./chunk-REGT5QFK.js";var u=class{constructor(i,f){this.username=i,this.password=f}};function T(m,i){if(m&1&&(r(0,"div",9)(1,"h3"),a(2),t()()),m&2){let f=_();d(2),v(f.error)}}var oe=(()=>{let i=class i{constructor(e,n,o){this.fb=e,this.loginservice=n,this.router=o,this.LoginForm=this.fb.group({Username:new h("",[l.required,l.maxLength(16),l.minLength(4)]),PassWord:new h("",[l.required,l.minLength(8)])})}OnLogin(){if(this.LoginForm.valid){let e=new u(this.LoginForm.get("Username").getRawValue(),this.LoginForm.get("PassWord").getRawValue());this.Fetch(this.Realuser,e)?(localStorage.setItem("UserApp",JSON.stringify(e)),this.router.navigateByUrl("/home")):(console.warn("oups"),this.error="Votre Username ou mot de passe est incorrect")}}ngOnInit(){this.loginservice.getData().subscribe(e=>{this.Realuser=e})}Fetch(e,n){let o;for(let c=0;c<e.length;c++)if(e[c].Username.toLowerCase()==n.username.toLowerCase()&&e[c].PassWord==n.password){o=!0;break}else o=!1;return o}};i.\u0275fac=function(n){return new(n||i)(p(U),p(b),p(y))},i.\u0275cmp=C({type:i,selectors:[["app-login"]],standalone:!0,features:[O],decls:23,vars:2,consts:[[1,"container"],[1,"title"],[1,"form"],[3,"formGroup"],["class","error",4,"ngIf"],["appearance","outline"],["type","text","matInput","","placeholder","ex: Jafred Bukulu","formControlName","Username"],["type","password","matInput","","formControlName","PassWord"],["mat-raised-button","","color","primary",3,"click"],[1,"error"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Etablissement "),s(4,"br"),a(5," New Shalom"),t(),s(6,"h1"),t(),r(7,"div",2)(8,"form",3),M(9,T,3,1,"div",4),r(10,"h1"),a(11,"Se Connecter"),t(),r(12,"mat-form-field",5)(13,"mat-label"),a(14,"Nom d'Utilisateur ou Email"),t(),s(15,"input",6),t(),r(16,"mat-form-field",5)(17,"mat-label"),a(18,"Mot de passe"),t(),s(19,"input",7),t(),r(20,"button",8),x("click",function(){return o.OnLogin()}),a(21,"Envoyer"),t(),s(22,"p"),t()()()),n&2&&(d(8),g("formGroup",o.LoginForm),d(),g("ngIf",o.error))},dependencies:[D,B,V,W,G,R,k,j,E,F,L,S,I,N,w,P],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;gap:1rem}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:60%;height:100%;font-size:40px}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:20px;font-weight:700;background:red;padding:.75rem;border-radius:10px}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:35%;height:100%;padding:1rem;margin-top:100px;margin-right:50px;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #0003}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80%}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;padding:1.5rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline;cursor:pointer}"]});let m=i;return m})();export{oe as default};
